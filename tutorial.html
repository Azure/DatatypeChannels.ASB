<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Namespaces
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="DatatypeChannels.ASB">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.3.1/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <link type="text/css" rel="stylesheet" href="/DatatypeChannels.ASB/content/navbar-fixed-right.css" />
    <link type="text/css" rel="stylesheet" href="/DatatypeChannels.ASB/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/DatatypeChannels.ASB/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/DatatypeChannels.ASB/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-right" id="fsdocs-menu">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <a href="/DatatypeChannels.ASB/"><img id="fsdocs-logo" src="/DatatypeChannels.ASB/img/logo.png" /></a>
            <ul class="navbar-nav">
                <li class="nav-header">Links</li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="{{fsdocs-license-link}}">License</a></li>
                <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="{{fsdocs-release-notes-link}}">Release Notes</a></li>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="{{fsdocs-repository-link}}">Source Repository</a></li>
                <li class="nav-header">
  Documentation
</li>             
<li class="nav-item">
  <a class="nav-link" href="/DatatypeChannels.ASB/tutorial.html">
    Namespaces

  </a>
</li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="/DatatypeChannels.ASB/">DatatypeChannels.ASB</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            <h1><a name="Namespaces" class="anchor" href="#Namespaces">Namespaces</a></h1>
<p>DatatypeChannels.ASB is organized into 3 APIs:</p>
<ul>
<li><code>Channels</code> API - connects to Azure Service Bus and provides constructors for publishers and consumers</li>
<li><code>ToSend</code>/<code>OfReceived</code> types for packing and unpacking messages in and out of Azure Service Bus primitives</li>
<li><code>Publisher</code> and <code>Consumer</code> types - the primary means of interaction</li>
</ul>
<h1><a name="Channels-API" class="anchor" href="#Channels-API">Channels API</a></h1>
<p><code>Channels</code> is the entry point into the API, it can be constructed with a connection string or FQDN of the namespace, for example:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">DatatypeChannels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">ASB</span>

<span class="k">use</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="d">channels</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="m">Channels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">fromFqdn</span> <span class="s">&quot;mynamespace.servicebus.windows.net&quot;</span>
                                 <span class="pn">(</span><span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="id">Azure</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="id">Identity</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="id">DefaultAzureCredential</span> <span class="k">false</span><span class="pn">)</span>
                                 <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 10)" onmouseover="showTip(event, 'fs10', 10)" class="uc">Log</span> <span onmouseout="hideTip(event, 'fs11', 11)" onmouseover="showTip(event, 'fs11', 11)" class="fn">ignore</span><span class="pn">)</span> <span class="c">// no logging</span>
</code></pre>
<p>For other construction parameters please see <code>Channels.mkNew</code>.
Internally two connections might be established - one for consumer bindings management and one for data activities.
The connections are established just in time for the first use and are cached for the lifetime of <code>Channels</code> factory.</p>
<h1><a name="Converting-messages-between-application-and-bus-representations" class="anchor" href="#Converting-messages-between-application-and-bus-representations">Converting messages between application and bus representations</a></h1>
<p><code>Publisher</code> and <code>Consumer</code> implement the opposite ends of a <a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/DatatypeChannel.html">Datatype Channel</a>, meaning that the type of message is determinated staticaly and for entire lifetime of the channel.
Implement <code>OfRecieved</code> and <code>ToSend</code> functions to convert from/to service bus primitives.</p>
<p>Here's an example of a plain text converters:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">PlainText</span> <span class="o">=</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="id">Azure</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 13)" onmouseover="showTip(event, 'fs12', 13)" class="id">Messaging</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 14)" onmouseover="showTip(event, 'fs13', 14)" class="id">ServiceBus</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 15)" onmouseover="showTip(event, 'fs14', 15)" class="id">ofReceived</span>  <span class="o">=</span>
        <span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 16)" onmouseover="showTip(event, 'fs15', 16)" class="fn">sbm</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 17)" onmouseover="showTip(event, 'fs16', 17)" class="rt">ServiceBusReceivedMessage</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs15', 18)" onmouseover="showTip(event, 'fs15', 18)" class="fn">sbm</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 19)" onmouseover="showTip(event, 'fs16', 19)" class="prop">Body</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 20)" onmouseover="showTip(event, 'fs16', 20)" class="id">ToString</span><span class="pn">(</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs17', 21)" onmouseover="showTip(event, 'fs17', 21)" class="uc">OfReceived</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 22)" onmouseover="showTip(event, 'fs18', 22)" class="id">toSend</span> <span class="o">=</span>
        <span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 23)" onmouseover="showTip(event, 'fs19', 23)" class="fn">msg</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs20', 24)" onmouseover="showTip(event, 'fs20', 24)" class="rt">string</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs21', 25)" onmouseover="showTip(event, 'fs21', 25)" class="id">ServiceBusMessage</span><span class="pn">(</span><span class="id">Body</span> <span class="o">=</span> <span class="id">BinaryData</span> <span onmouseout="hideTip(event, 'fs19', 26)" onmouseover="showTip(event, 'fs19', 26)" class="id">msg</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 27)" onmouseover="showTip(event, 'fs22', 27)" class="uc">ToSend</span>
</code></pre>
<p>Any exception during convertion from the bus primitives will result in message being Nacked and sent to the Dead Letter queue (if configured).</p>
<h1><a name="Publisher" class="anchor" href="#Publisher">Publisher</a></h1>
<p>Publisher is just a function that takes a message and returns when completed and
there are two ways to obtain it:</p>
<ul>
<li>For long-living use:</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 28)" onmouseover="showTip(event, 'fs23', 28)" class="id">publisher</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 29)" onmouseover="showTip(event, 'fs4', 29)" class="d">channels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 30)" onmouseover="showTip(event, 'fs24', 30)" class="id">GetPublisher</span> <span onmouseout="hideTip(event, 'fs25', 31)" onmouseover="showTip(event, 'fs25', 31)" class="m">PlainText</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="id">toSend</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs26', 33)" onmouseover="showTip(event, 'fs26', 33)" class="uc">Topic</span> <span class="s">&quot;topic&quot;</span><span class="pn">)</span> <span class="c">// long-living publisher</span>
</code></pre>
<ul>
<li>Or for immediate use and disposal of the publisher:</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="s">&quot;test message&quot;</span> <span class="o">|-&gt;</span> <span onmouseout="hideTip(event, 'fs4', 34)" onmouseover="showTip(event, 'fs4', 34)" class="d">channels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 35)" onmouseover="showTip(event, 'fs27', 35)" class="id">UsingPublisher</span> <span onmouseout="hideTip(event, 'fs25', 36)" onmouseover="showTip(event, 'fs25', 36)" class="m">PlainText</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 37)" onmouseover="showTip(event, 'fs18', 37)" class="id">toSend</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs26', 38)" onmouseover="showTip(event, 'fs26', 38)" class="uc">Topic</span> <span class="s">&quot;topic&quot;</span><span class="pn">)</span> <span class="c">// one-off publishing, using the infix operator</span>
</code></pre>
<h1><a name="Consumer" class="anchor" href="#Consumer">Consumer</a></h1>
<p>Consumer implicitly manages the susbcription every time it's created, updating forwarding and rules as needed.
A persistent queue can be setup using one or more subscriptions, with forwarding setup automatically.
<code>Temporary</code> queue can be useful for short-lived consumers and is setup with auto-acknowedgments and a guid for a name, it will be deleted once consumer is disposed of.
Implementing guaranteed processing a <code>Persistent</code> queue or a <code>Subscription</code> with Ack/Nack messages is recommended.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 39)" onmouseover="showTip(event, 'fs7', 39)" class="id">Azure</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 40)" onmouseover="showTip(event, 'fs12', 40)" class="id">Messaging</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 41)" onmouseover="showTip(event, 'fs13', 41)" class="id">ServiceBus</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 42)" onmouseover="showTip(event, 'fs28', 42)" class="id">Administration</span>

<span class="c">// define the a Subscription binding with no filters</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 43)" onmouseover="showTip(event, 'fs29', 43)" class="id">src</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs30', 44)" onmouseover="showTip(event, 'fs30', 44)" class="uc">Subscription</span> <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs30', 45)" onmouseover="showTip(event, 'fs30', 45)" class="prop">Subscription</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs31', 46)" onmouseover="showTip(event, 'fs31', 46)" class="id">CreateSubscriptionOptions</span><span class="pn">(</span><span class="s">&quot;mytopic&quot;</span><span class="pn">,</span> <span class="s">&quot;mysub&quot;</span><span class="pn">,</span> <span class="id">MaxDeliveryCount</span> <span class="o">=</span> <span class="n">1</span><span class="pn">)</span><span class="pn">,</span> <span class="id">Rule</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs32', 47)" onmouseover="showTip(event, 'fs32', 47)" class="id">None</span> <span class="pn">}</span>

<span class="c">// create a consumer, specifying the convertion function from bus primitives</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 48)" onmouseover="showTip(event, 'fs33', 48)" class="d">consumer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 49)" onmouseover="showTip(event, 'fs4', 49)" class="d">channels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 50)" onmouseover="showTip(event, 'fs34', 50)" class="id">GetConsumer</span> <span onmouseout="hideTip(event, 'fs25', 51)" onmouseover="showTip(event, 'fs25', 51)" class="m">PlainText</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 52)" onmouseover="showTip(event, 'fs14', 52)" class="id">ofReceived</span> <span onmouseout="hideTip(event, 'fs29', 53)" onmouseover="showTip(event, 'fs29', 53)" class="id">src</span>

<span class="c">// another example of a source - deadletter queue of the subscription defined above</span>
<span class="c">// this entity must exist, DatatypeChannels.ASB does not manage deadletter sources</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 54)" onmouseover="showTip(event, 'fs35', 54)" class="id">dlq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 55)" onmouseover="showTip(event, 'fs36', 55)" class="uc">DeadLetter</span> <span class="s">&quot;mytopic/Subscriptions/mysub&quot;</span> 
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 56)" onmouseover="showTip(event, 'fs37', 56)" class="d">dlqConsumer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 57)" onmouseover="showTip(event, 'fs4', 57)" class="d">channels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 58)" onmouseover="showTip(event, 'fs34', 58)" class="id">GetConsumer</span> <span onmouseout="hideTip(event, 'fs25', 59)" onmouseover="showTip(event, 'fs25', 59)" class="m">PlainText</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 60)" onmouseover="showTip(event, 'fs14', 60)" class="id">ofReceived</span> <span onmouseout="hideTip(event, 'fs35', 61)" onmouseover="showTip(event, 'fs35', 61)" class="id">dlq</span>

<span class="c">// define the a Persistent queue binding</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 62)" onmouseover="showTip(event, 'fs38', 62)" class="id">consumer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 63)" onmouseover="showTip(event, 'fs39', 63)" class="uc">Persistent</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 64)" onmouseover="showTip(event, 'fs40', 64)" class="fn">CreateQueueOptions</span><span class="pn">(</span><span class="s">&quot;myqueue&quot;</span><span class="pn">,</span> <span class="fn">LockDuration</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 65)" onmouseover="showTip(event, 'fs41', 65)" class="vt">TimeSpan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 66)" onmouseover="showTip(event, 'fs42', 66)" class="id">FromMinutes</span> <span class="n">6.</span><span class="pn">)</span><span class="pn">,</span>
                           <span class="pn">[</span><span class="pn">{</span> <span onmouseout="hideTip(event, 'fs30', 67)" onmouseover="showTip(event, 'fs30', 67)" class="prop">Subscription</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs31', 68)" onmouseover="showTip(event, 'fs31', 68)" class="id">CreateSubscriptionOptions</span><span class="pn">(</span><span class="s">&quot;mytopic&quot;</span><span class="pn">,</span> <span class="s">&quot;mysub&quot;</span><span class="pn">,</span> <span class="id">MaxDeliveryCount</span> <span class="o">=</span> <span class="n">1</span><span class="pn">)</span><span class="pn">,</span> <span class="id">Rule</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs32', 69)" onmouseover="showTip(event, 'fs32', 69)" class="id">None</span> <span class="pn">}</span><span class="pn">]</span><span class="pn">)</span>

<span class="c">// define a Temporary queue binding, the messages will be auto-ack&#39;ed</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs43', 70)" onmouseover="showTip(event, 'fs43', 70)" class="id">tmp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 71)" onmouseover="showTip(event, 'fs44', 71)" class="uc">Temporary</span> <span class="pn">[</span><span class="pn">{</span> <span onmouseout="hideTip(event, 'fs30', 72)" onmouseover="showTip(event, 'fs30', 72)" class="prop">Subscription</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs31', 73)" onmouseover="showTip(event, 'fs31', 73)" class="id">CreateSubscriptionOptions</span><span class="pn">(</span><span class="s">&quot;mytopic&quot;</span><span class="pn">,</span> <span class="s">&quot;mysub&quot;</span><span class="pn">,</span> <span class="id">MaxDeliveryCount</span> <span class="o">=</span> <span class="n">1</span><span class="pn">)</span><span class="pn">,</span> <span class="id">Rule</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs32', 74)" onmouseover="showTip(event, 'fs32', 74)" class="id">None</span> <span class="pn">}</span><span class="pn">]</span>
</code></pre>
<p>Once created, we can start polling them, specifying the timeout:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs45', 75)" onmouseover="showTip(event, 'fs45', 75)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 76)" onmouseover="showTip(event, 'fs46', 76)" class="id">Control</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 77)" onmouseover="showTip(event, 'fs47', 77)" class="id">Tasks</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 78)" onmouseover="showTip(event, 'fs48', 78)" class="m">Builders</span>

<span onmouseout="hideTip(event, 'fs49', 79)" onmouseover="showTip(event, 'fs49', 79)" class="k">task</span> <span class="pn">{</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs50', 80)" onmouseover="showTip(event, 'fs50', 80)" class="fn">received</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 81)" onmouseover="showTip(event, 'fs41', 81)" class="vt">TimeSpan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs51', 82)" onmouseover="showTip(event, 'fs51', 82)" class="id">FromSeconds</span> <span class="n">3.</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs38', 83)" onmouseover="showTip(event, 'fs38', 83)" class="id">consumer</span><span class="pn">.</span><span class="id">Get</span>
    <span class="c">// for this example - negative acknowledge the message so that it&#39;s routed to the deadletters</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs38', 84)" onmouseover="showTip(event, 'fs38', 84)" class="id">consumer</span><span class="pn">.</span><span class="id">Nack</span> <span onmouseout="hideTip(event, 'fs50', 85)" onmouseover="showTip(event, 'fs50', 85)" class="id">received</span><span class="pn">.</span><span class="id">Value</span><span class="pn">.</span><span class="id">Id</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs52', 86)" onmouseover="showTip(event, 'fs52', 86)" class="fn">received</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 87)" onmouseover="showTip(event, 'fs41', 87)" class="vt">TimeSpan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs51', 88)" onmouseover="showTip(event, 'fs51', 88)" class="id">FromSeconds</span> <span class="n">3.</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 89)" onmouseover="showTip(event, 'fs37', 89)" class="d">dlqConsumer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 90)" onmouseover="showTip(event, 'fs53', 90)" class="id">Get</span> <span class="c">// now we can process it from the deadletters</span>
<span class="pn">}</span>
</code></pre>
<p>Note that:</p>
<ul>
<li>when using prefetch: w/ or not you called <code>Get</code> the prefetch itself counts as a delivery attempt</li>
<li>if expected message processing, specified as <code>LockDuration</code>, exceeds the maximum lock time, DatatypeChannels.ASB will override the duration with the valida maximum and setup background lock renewal task.</li>
</ul>

            <div class="fsdocs-tip" id="fs1">namespace System</div>
<div class="fsdocs-tip" id="fs2">namespace DatatypeChannels</div>
<div class="fsdocs-tip" id="fs3">namespace DatatypeChannels.ASB</div>
<div class="fsdocs-tip" id="fs4">val channels : Channels</div>
<div class="fsdocs-tip" id="fs5">Multiple items<br />module Channels<br /><br />from DatatypeChannels.ASB<br /><br />--------------------<br />type Channels =<br />&#160;&#160;inherit IDisposable<br />&#160;&#160;abstract member GetConsumer : OfReceived&lt;&#39;msg&gt; -&gt; Source -&gt; Consumer&lt;&#39;msg&gt;<br />&#160;&#160;abstract member GetPublisher : ToSend&lt;&#39;msg&gt; -&gt; Topic -&gt; Publisher&lt;&#39;msg&gt;<br />&#160;&#160;abstract member UsingPublisher : ToSend&lt;&#39;msg&gt; -&gt; Topic -&gt; (Publisher&lt;&#39;msg&gt; -&gt; Task&lt;unit&gt;) -&gt; Task&lt;unit&gt;</div>
<div class="fsdocs-tip" id="fs6">val fromFqdn : fqNamespace:string -&gt; credential:Azure.Core.TokenCredential -&gt; log:Log -&gt; Channels</div>
<div class="fsdocs-tip" id="fs7">namespace Azure</div>
<div class="fsdocs-tip" id="fs8">namespace Azure.Identity</div>
<div class="fsdocs-tip" id="fs9">Multiple items<br />type DefaultAzureCredential =<br />&#160;&#160;inherit TokenCredential<br />&#160;&#160;new : unit -&gt; unit + 3 overloads<br />&#160;&#160;member GetToken : requestContext: TokenRequestContext *?cancellationToken: CancellationToken -&gt; AccessToken<br />&#160;&#160;member GetTokenAsync : requestContext: TokenRequestContext *?cancellationToken: CancellationToken -&gt; ValueTask&lt;AccessToken&gt;<br />&#160;&#160;member GetTokenImplAsync : async: bool * requestContext: TokenRequestContext * cancellationToken: CancellationToken -&gt; ValueTask&lt;AccessToken&gt;<br />&#160;&#160;static member GetDefaultAzureCredentialChain : factory: DefaultAzureCredentialFactory * options: DefaultAzureCredentialOptions -&gt; TokenCredential []<br />&#160;&#160;static member GetTokenFromCredentialAsync : credential: TokenCredential * requestContext: TokenRequestContext * async: bool * cancellationToken: CancellationToken -&gt; ValueTask&lt;AccessToken&gt;<br />&#160;&#160;static member GetTokenFromSourcesAsync : sources: TokenCredential [] * requestContext: TokenRequestContext * async: bool * cancellationToken: CancellationToken -&gt; ValueTask&lt;struct (AccessToken * TokenCredential)&gt;<br />&#160;&#160;static val DefaultExceptionMessage : string<br />&#160;&#160;static val UnhandledExceptionMessage : string<br />&#160;&#160;...<br /><br />--------------------<br />Azure.Identity.DefaultAzureCredential(?includeInteractiveCredentials: bool) : Azure.Identity.DefaultAzureCredential<br />Azure.Identity.DefaultAzureCredential(options: Azure.Identity.DefaultAzureCredentialOptions) : Azure.Identity.DefaultAzureCredential</div>
<div class="fsdocs-tip" id="fs10">Multiple items<br />union case Log.Log: (string * obj [] -&gt; unit) -&gt; Log<br /><br />--------------------<br />[&lt;Struct&gt;]<br />type Log = | Log of (string * obj [] -&gt; unit)</div>
<div class="fsdocs-tip" id="fs11">val ignore : value:&#39;T -&gt; unit</div>
<div class="fsdocs-tip" id="fs12">namespace Azure.Messaging</div>
<div class="fsdocs-tip" id="fs13">namespace Azure.Messaging.ServiceBus</div>
<div class="fsdocs-tip" id="fs14">val ofReceived : OfReceived&lt;obj&gt;</div>
<div class="fsdocs-tip" id="fs15">val sbm : ServiceBusReceivedMessage</div>
<div class="fsdocs-tip" id="fs16"></div>
<div class="fsdocs-tip" id="fs17">Multiple items<br />union case OfReceived.OfReceived: (ServiceBusReceivedMessage -&gt; &#39;msg) -&gt; OfReceived&lt;&#39;msg&gt;<br /><br />--------------------<br />type OfReceived&lt;&#39;msg&gt; = | OfReceived of (ServiceBusReceivedMessage -&gt; &#39;msg)</div>
<div class="fsdocs-tip" id="fs18">val toSend : ToSend&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs19">val msg : string</div>
<div class="fsdocs-tip" id="fs20">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />--------------------<br />type string = String</div>
<div class="fsdocs-tip" id="fs21">Multiple items<br /><br />--------------------</div>
<div class="fsdocs-tip" id="fs22">Multiple items<br />union case ToSend.ToSend: (&#39;msg -&gt; ServiceBusMessage) -&gt; ToSend&lt;&#39;msg&gt;<br /><br />--------------------<br />type ToSend&lt;&#39;msg&gt; = | ToSend of (&#39;msg -&gt; ServiceBusMessage)</div>
<div class="fsdocs-tip" id="fs23">val publisher : Publisher&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs24">abstract member Channels.GetPublisher : ToSend&lt;&#39;msg&gt; -&gt; Topic -&gt; Publisher&lt;&#39;msg&gt;</div>
<div class="fsdocs-tip" id="fs25">module PlainText<br /><br />from Tutorial</div>
<div class="fsdocs-tip" id="fs26">Multiple items<br />union case Topic.Topic: string -&gt; Topic<br /><br />--------------------<br />module Topic<br /><br />from DatatypeChannels.ASB<br /><br />--------------------<br />[&lt;Struct&gt;]<br />type Topic = | Topic of string</div>
<div class="fsdocs-tip" id="fs27">abstract member Channels.UsingPublisher : ToSend&lt;&#39;msg&gt; -&gt; Topic -&gt; (Publisher&lt;&#39;msg&gt; -&gt; Threading.Tasks.Task&lt;unit&gt;) -&gt; Threading.Tasks.Task&lt;unit&gt;</div>
<div class="fsdocs-tip" id="fs28">namespace Azure.Messaging.ServiceBus.Administration</div>
<div class="fsdocs-tip" id="fs29">val src : Source</div>
<div class="fsdocs-tip" id="fs30">union case Source.Subscription: Binding -&gt; Source</div>
<div class="fsdocs-tip" id="fs31">Multiple items<br />type CreateSubscriptionOptions =<br />&#160;&#160;interface IEquatable&lt;CreateSubscriptionOptions&gt;<br />&#160;&#160;new : topicName: string * subscriptionName: string -&gt; unit + 1 overload<br />&#160;&#160;member Equals : obj: obj -&gt; bool + 1 overload<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;static member op_Equality : left: CreateSubscriptionOptions * right: CreateSubscriptionOptions -&gt; bool<br />&#160;&#160;static member op_Inequality : left: CreateSubscriptionOptions * right: CreateSubscriptionOptions -&gt; bool<br />&#160;&#160;val ``&lt;DeadLetteringOnMessageExpiration&gt;k__BackingField`` : bool<br />&#160;&#160;val ``&lt;EnableBatchedOperations&gt;k__BackingField`` : bool<br />&#160;&#160;val ``&lt;EnableDeadLetteringOnFilterEvaluationExceptions&gt;k__BackingField`` : bool<br />&#160;&#160;val ``&lt;RequiresSession&gt;k__BackingField`` : bool<br />&#160;&#160;...<br /><br />--------------------<br />CreateSubscriptionOptions(subscription: SubscriptionProperties) : CreateSubscriptionOptions<br />CreateSubscriptionOptions(topicName: string, subscriptionName: string) : CreateSubscriptionOptions</div>
<div class="fsdocs-tip" id="fs32">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs33">val consumer : Consumer&lt;obj&gt;</div>
<div class="fsdocs-tip" id="fs34">abstract member Channels.GetConsumer : OfReceived&lt;&#39;msg&gt; -&gt; Source -&gt; Consumer&lt;&#39;msg&gt;</div>
<div class="fsdocs-tip" id="fs35">val dlq : Source</div>
<div class="fsdocs-tip" id="fs36">union case Source.DeadLetter: string -&gt; Source</div>
<div class="fsdocs-tip" id="fs37">val dlqConsumer : Consumer&lt;obj&gt;</div>
<div class="fsdocs-tip" id="fs38">val consumer : Source</div>
<div class="fsdocs-tip" id="fs39">union case Source.Persistent: CreateQueueOptions * Binding list -&gt; Source</div>
<div class="fsdocs-tip" id="fs40">Multiple items<br />type CreateQueueOptions =<br />&#160;&#160;interface IEquatable&lt;CreateQueueOptions&gt;<br />&#160;&#160;new : name: string -&gt; unit + 1 overload<br />&#160;&#160;member Equals : obj: obj -&gt; bool + 1 overload<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;static member op_Equality : left: CreateQueueOptions * right: CreateQueueOptions -&gt; bool<br />&#160;&#160;static member op_Inequality : left: CreateQueueOptions * right: CreateQueueOptions -&gt; bool<br />&#160;&#160;val ``&lt;AuthorizationRules&gt;k__BackingField`` : AuthorizationRules<br />&#160;&#160;val ``&lt;DeadLetteringOnMessageExpiration&gt;k__BackingField`` : bool<br />&#160;&#160;val ``&lt;EnableBatchedOperations&gt;k__BackingField`` : bool<br />&#160;&#160;val ``&lt;EnablePartitioning&gt;k__BackingField`` : bool<br />&#160;&#160;...<br /><br />--------------------<br />CreateQueueOptions(name: string) : CreateQueueOptions<br />CreateQueueOptions(queue: QueueProperties) : CreateQueueOptions</div>
<div class="fsdocs-tip" id="fs41">Multiple items<br />[&lt;Struct&gt;]<br />type TimeSpan =<br />&#160;&#160;new : hours: int * minutes: int * seconds: int -&gt; unit + 3 overloads<br />&#160;&#160;member Add : ts: TimeSpan -&gt; TimeSpan<br />&#160;&#160;member CompareTo : value: obj -&gt; int + 1 overload<br />&#160;&#160;member Divide : divisor: float -&gt; TimeSpan + 1 overload<br />&#160;&#160;member Duration : unit -&gt; TimeSpan<br />&#160;&#160;member Equals : value: obj -&gt; bool + 2 overloads<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member Multiply : factor: float -&gt; TimeSpan<br />&#160;&#160;member Negate : unit -&gt; TimeSpan<br />&#160;&#160;member Subtract : ts: TimeSpan -&gt; TimeSpan<br />&#160;&#160;...<br /><br />--------------------<br />TimeSpan ()<br />TimeSpan(ticks: int64) : TimeSpan<br />TimeSpan(hours: int, minutes: int, seconds: int) : TimeSpan<br />TimeSpan(days: int, hours: int, minutes: int, seconds: int) : TimeSpan<br />TimeSpan(days: int, hours: int, minutes: int, seconds: int, milliseconds: int) : TimeSpan</div>
<div class="fsdocs-tip" id="fs42">TimeSpan.FromMinutes(value: float) : TimeSpan</div>
<div class="fsdocs-tip" id="fs43">val tmp : Source</div>
<div class="fsdocs-tip" id="fs44">union case Source.Temporary: Binding list -&gt; Source</div>
<div class="fsdocs-tip" id="fs45">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs46">Multiple items<br />namespace FSharp.Control<br /><br />--------------------<br />namespace Microsoft.FSharp.Control</div>
<div class="fsdocs-tip" id="fs47">namespace FSharp.Control.Tasks</div>
<div class="fsdocs-tip" id="fs48">module Builders<br /><br />from FSharp.Control.Tasks</div>
<div class="fsdocs-tip" id="fs49">val task : TaskBuilder</div>
<div class="fsdocs-tip" id="fs50">val received : obj</div>
<div class="fsdocs-tip" id="fs51">TimeSpan.FromSeconds(value: float) : TimeSpan</div>
<div class="fsdocs-tip" id="fs52">val received : Envelope&lt;obj&gt; option</div>
<div class="fsdocs-tip" id="fs53">abstract member Consumer.Get : TimeSpan -&gt; Threading.Tasks.Task&lt;Envelope&lt;&#39;msg&gt; option&gt;</div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = '/DatatypeChannels.ASB/';</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="/DatatypeChannels.ASB/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
    </div>
</body>

</html>